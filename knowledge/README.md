# Project Knowledge Base

## Ghost Embedding & Theme Options
- Ghost themes are static Handlebars templates that can be extended with partials, making it straightforward to add custom HTML (for example, an upload form) in shared layouts like `default.hbs` or dedicated `post.hbs`/`page.hbs` templates (`knowledge/ghost/theme-structure.md:96`, `knowledge/ghost/theme-structure.md:117`, `knowledge/ghost/theme-structure.md:144`).
- The official theme guide highlights Ghost’s separation of templates and logic via Handlebars helpers, which keeps custom HTML performant and maintainable for bespoke publication experiences (`knowledge/ghost/themes.md:81`, `knowledge/ghost/themes.md:86`).

## Cloudflare R2 Storage
- R2 targets use cases like media libraries and podcast assets while eliminating egress fees; buckets support features such as CORS policies, public access, and scoped tokens for controlling client uploads (`knowledge/cloudflare-r2/overview.md:129`, `knowledge/cloudflare-r2/overview.md:141`, `knowledge/cloudflare-r2/overview.md:148`, `knowledge/cloudflare-r2/overview.md:152`).
- Objects can be uploaded via the dashboard, `wrangler r2 object put`, or bulk tooling like `rclone`, with wrangler capped at 315 MB per object—larger files should use multipart/S3-compatible flows (`knowledge/cloudflare-r2/upload-objects.md:133`, `knowledge/cloudflare-r2/upload-objects.md:170`, `knowledge/cloudflare-r2/upload-objects.md:182`, `knowledge/cloudflare-r2/upload-objects.md:206`).
- The multipart Worker guide returns structured state (`uploadId`, part numbers, etags) so clients can resume uploads and finalize them through the Worker while the Worker enforces auth/validation before writing to R2 (`knowledge/cloudflare-r2/multipart-from-workers.md:132`, `knowledge/cloudflare-r2/multipart-from-workers.md:136`, `knowledge/cloudflare-r2/multipart-from-workers.md:139`).
- R2 exposes an S3-compatible API at `https://<ACCOUNT_ID>.r2.cloudflarestorage.com`; bucket region should be `auto`, and tables list which S3 operations are implemented for uploads and CORS configuration (`knowledge/cloudflare-r2/s3-api.md:143`, `knowledge/cloudflare-r2/s3-api.md:156`, `knowledge/cloudflare-r2/s3-api.md:169`, `knowledge/cloudflare-r2/s3-api.md:202`).

## Cloudflare Workers Platform & APIs
- Workers provide a global serverless runtime with first-class support for frameworks, multiple languages, and observability, letting us host a lightweight upload backend close to end users (`knowledge/cloudflare-workers/overview.md:414`, `knowledge/cloudflare-workers/overview.md:416`, `knowledge/cloudflare-workers/overview.md:418`, `knowledge/cloudflare-workers/overview.md:420`).
- Bindings grant Workers capabilities such as R2 access by declaring buckets in `wrangler.toml`; the Worker can then use the injected `env.MY_BUCKET` instance for reads/writes (`knowledge/cloudflare-workers/bindings.md:456`, `knowledge/cloudflare-workers/bindings.md:465`, `knowledge/cloudflare-workers/bindings.md:470`).
- The standard `Request` API supports `request.formData()` to parse browser file uploads inside the Worker’s `fetch` handler, enabling multipart form handling with minimal boilerplate (`knowledge/cloudflare-workers/handle-form-submissions.md:874`, `knowledge/cloudflare-workers/handle-form-submissions.md:879`, `knowledge/cloudflare-workers/handle-form-submissions.md:889`).

## Email Notifications via Cloudflare
- After enabling Email Routing and verifying destination addresses, Workers can use `send_email` bindings to deliver notification emails; bindings can restrict destination lists or enforce sender allowlists in `wrangler.toml` (`knowledge/cloudflare-email/email-workers.md:72`, `knowledge/cloudflare-email/email-workers.md:74`, `knowledge/cloudflare-email/email-workers.md:103`, `knowledge/cloudflare-email/email-workers.md:135`).

## Cost & Capacity References
- R2 Standard storage is $0.015 / GB-month with 10 GB, 1 M Class A, and 10 M Class B operations free each month; operations beyond the tier bill per million and egress remains free for both classes (`knowledge/costs/r2-pricing.md:165`, `knowledge/costs/r2-pricing.md:177`, `knowledge/costs/r2-pricing.md:189`, `knowledge/costs/r2-pricing.md:195`).
- The Workers Free plan allows 100 k requests per day with no duration fee (10 ms CPU limit per invocation) and includes limited KV/Hyperdrive usage that resets daily (`knowledge/costs/workers-pricing.md:414`, `knowledge/costs/workers-pricing.md:417`, `knowledge/costs/workers-pricing.md:457`, `knowledge/costs/workers-pricing.md:568`).
- Amazon S3 charges separately for storage classes, per-request operations, and data transfer; egress to the public internet starts at $0.005–$0.015 / GB depending on region, making large downloads materially more expensive than R2’s zero-egress model (`knowledge/alternatives/aws-s3-pricing.md:97`, `knowledge/alternatives/aws-s3-pricing.md:209`, `knowledge/alternatives/aws-s3-pricing.md:244`, `knowledge/alternatives/aws-s3-pricing.md:270`).
- Backblaze B2 lists $6/TB-month storage with free egress up to 3× average stored data (then $0.01/GB), highlighting another low-cost alternative for comparison (`knowledge/alternatives/backblaze-b2-pricing.md:62`, `knowledge/alternatives/backblaze-b2-pricing.md:64`, `knowledge/alternatives/backblaze-b2-pricing.md:68`, `knowledge/alternatives/backblaze-b2-pricing.md:104`).
